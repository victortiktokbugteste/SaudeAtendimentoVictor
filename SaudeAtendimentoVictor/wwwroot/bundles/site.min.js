var app=angular.module("myApp",["ngSanitize","ui.select","ngTouch","ui.bootstrap","angular-loading-bar","ngAnimate","ngAria","ngMaterial"]).config(["cfpLoadingBarProvider",function(n){n.parentSelector="#loading-bar-container";n.spinnerTemplate='<div style=text-align:center;><img src="/Spinerr.svg"/ height="100px"><\/div>'}]);app.config(["uiSelectConfig",function(n){n.theme="selectize"}]);app.factory("basicService",["$http",function(n){const t={"Content-Type":"application/json"};return{salvarPaciente:function(i){return n.post("/Paciente/CadastrarPaciente",i,t)},obterPacientes:function(){return n.get("/Paciente/ObterPacientes")},excluirPaciente:function(i){return n.post("/Paciente/ExcluirPaciente",i,t)},obterEspecialidades:function(){return n.get("/Triagem/ObterEspecialidades")},salvarTriagem:function(i){return n.post("/Triagem/SalvarTriagem",i,t)},obterTriagens:function(){return n.get("/Triagem/ObterTriagens")},obterAtendimentos:function(){return n.get("/Atendimento/ObterAtendimentos")},obterStatus:function(){return n.get("/Atendimento/ObterStatus")},salvarAtendimento:function(i){return n.post("/Atendimento/SalvarAtendimento",i,t)}}}]);app.controller("HomeController",["$scope","$window",function(n,t){n.filter={Category:{}};n.list={categories:[{id:1,name:"Pacientes",icon:"/img/paciente.png"},{id:2,name:"Atendimento",icon:"/img/linha.png"},{id:3,name:"Triagens",icon:"/img/candidato.png"},]};n.EntrarNaTela=function(){t.location.href=n.filter.Category.id==1?"/Paciente/Index":n.filter.Category.id==2?"/Atendimento/Index":"/Triagem/Index"}}]);app.controller("pacienteController",["$scope","$window","$http","$filter","basicService","utilidadesService",function(n,t,i,r,u,f){n.entity={};n.list={pacientes:[]};n.save_click=function(){$(".spinerStyle").addClass("centerSpinner");$(".spinerBackground").addClass("overlay");u.salvarPaciente(n.entity).then(function(t){var i=t.data;n.closeModal();i.success==!0?f.exibirMensagem("Sucesso!","Paciente cadastrado com sucesso.",!0):f.exibirMensagem("Falha",i.error,!0);$(".spinerStyle").removeClass("centerSpinner");$(".spinerBackground").removeClass("overlay");n.obterPacientes()},function(){$(".spinerStyle").removeClass("centerSpinner");$(".spinerBackground").removeClass("overlay")})};n.obterPacientes=function(){$(".spinerStyle").addClass("centerSpinner");$(".spinerBackground").addClass("overlay");u.obterPacientes().then(function(t){n.list.pacientes=t.data;$(".spinerStyle").removeClass("centerSpinner");$(".spinerBackground").removeClass("overlay")},function(){$(".spinerStyle").removeClass("centerSpinner");$(".spinerBackground").removeClass("overlay")})};n.adicionarPaciente=function(){n.entity={};$("#myModal").modal("show")};n.closeModal=function(){n.entity={};$("#myModal").modal("hide")};n.excluirPaciente=function(t){$(".spinerStyle").addClass("centerSpinner");$(".spinerBackground").addClass("overlay");u.excluirPaciente(t).then(function(t){var i=t.data;i.success==!0?f.exibirMensagem("Sucesso!","Paciente excluído com sucesso.",!0):f.exibirMensagem("Falha",i.error,!0);$(".spinerStyle").removeClass("centerSpinner");$(".spinerBackground").removeClass("overlay");n.obterPacientes()},function(){$(".spinerStyle").removeClass("centerSpinner");$(".spinerBackground").removeClass("overlay")})};n.init=function(){n.obterPacientes()};n.init()}]);app.controller("triagemController",["$scope","$window","$http","$filter","basicService","utilidadesService",function(n,t,i,r,u,f){n.entity={especialidadeID:{},atendimentoID:{}};n.list={triagens:[],especialidades:[],atendimentos:[]};n.save_click=function(){$(".spinerStyle").addClass("centerSpinner");$(".spinerBackground").addClass("overlay");u.salvarTriagem(n.entity).then(function(t){var i=t.data;n.closeModal();i.success==!0?f.exibirMensagem("Sucesso!","Triagem cadastrada com sucesso.",!0):f.exibirMensagem("Falha",i.error,!0);$(".spinerStyle").removeClass("centerSpinner");$(".spinerBackground").removeClass("overlay");n.obterTriagens()},function(){$(".spinerStyle").removeClass("centerSpinner");$(".spinerBackground").removeClass("overlay")})};n.obterTriagens=function(){$(".spinerStyle").addClass("centerSpinner");$(".spinerBackground").addClass("overlay");u.obterTriagens().then(function(t){n.list.triagens=t.data;$(".spinerStyle").removeClass("centerSpinner");$(".spinerBackground").removeClass("overlay")},function(){$(".spinerStyle").removeClass("centerSpinner");$(".spinerBackground").removeClass("overlay")})};n.obterEspecialidades=function(){$(".spinerStyle").addClass("centerSpinner");$(".spinerBackground").addClass("overlay");u.obterEspecialidades().then(function(t){n.list.especialidades=t.data;$(".spinerStyle").removeClass("centerSpinner");$(".spinerBackground").removeClass("overlay")},function(){$(".spinerStyle").removeClass("centerSpinner");$(".spinerBackground").removeClass("overlay")})};n.obterAtendimentos=function(){$(".spinerStyle").addClass("centerSpinner");$(".spinerBackground").addClass("overlay");u.obterAtendimentos().then(function(t){n.list.atendimentos=t.data;$(".spinerStyle").removeClass("centerSpinner");$(".spinerBackground").removeClass("overlay")},function(){$(".spinerStyle").removeClass("centerSpinner");$(".spinerBackground").removeClass("overlay")})};n.adicionarTriagem=function(){n.entity={};$("#myModal").modal("show")};n.closeModal=function(){n.entity={};$("#myModal").modal("hide")};n.init=function(){n.obterTriagens();n.obterEspecialidades();n.obterAtendimentos()};n.init()}]);app.controller("atendimentoController",["$scope","$window","$http","$filter","basicService","utilidadesService",function(n,t,i,r,u,f){n.entity={pacienteID:{},statusID:{}};n.list={atendimentos:[],pacientes:[],status:[]};n.obterPacientes=function(){$(".spinerStyle").addClass("centerSpinner");$(".spinerBackground").addClass("overlay");u.obterPacientes().then(function(t){n.list.pacientes=t.data;$(".spinerStyle").removeClass("centerSpinner");$(".spinerBackground").removeClass("overlay")},function(){$(".spinerStyle").removeClass("centerSpinner");$(".spinerBackground").removeClass("overlay")})};n.obterStatus=function(){$(".spinerStyle").addClass("centerSpinner");$(".spinerBackground").addClass("overlay");u.obterStatus().then(function(t){n.list.status=t.data;$(".spinerStyle").removeClass("centerSpinner");$(".spinerBackground").removeClass("overlay")},function(){$(".spinerStyle").removeClass("centerSpinner");$(".spinerBackground").removeClass("overlay")})};n.save_click=function(){$(".spinerStyle").addClass("centerSpinner");$(".spinerBackground").addClass("overlay");u.salvarAtendimento(n.entity).then(function(t){var i=t.data;n.closeModal();i.success==!0?f.exibirMensagem("Sucesso!","Atendimento cadastrado com sucesso.",!0):f.exibirMensagem("Falha",i.error,!0);$(".spinerStyle").removeClass("centerSpinner");$(".spinerBackground").removeClass("overlay");n.obterAtendimentos()},function(){$(".spinerStyle").removeClass("centerSpinner");$(".spinerBackground").removeClass("overlay")})};n.pintarLinha=function(n){return{"background-color":n.status.nome=="Crítico"?"#ffcccc":"#B0E57C"}};n.obterAtendimentos=function(){$(".spinerStyle").addClass("centerSpinner");$(".spinerBackground").addClass("overlay");u.obterAtendimentos().then(function(t){n.list.atendimentos=t.data;console.log(n.list.atendimentos);$(".spinerStyle").removeClass("centerSpinner");$(".spinerBackground").removeClass("overlay")},function(){$(".spinerStyle").removeClass("centerSpinner");$(".spinerBackground").removeClass("overlay")})};n.adicionarAtendimento=function(){n.entity={};$("#myModal").modal("show")};n.closeModal=function(){n.entity={};$("#myModal").modal("hide")};n.init=function(){n.obterPacientes();n.obterStatus();n.obterAtendimentos()};n.init()}]);